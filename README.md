## Maze On Terminal
### 概要
C++で制作．コマンドライン・ローグライクゲーム<br>
lsやcdといったLinuxライクなコマンドを拾いながら迷路の攻略を行う<br>
実行環境：windows11 (powershellを想定)
```
ゲームの流れ

迷路上に存在するオブジェクト

中立ユニット：ファイルの交換をしてくれる．

隠れユニット：プレイヤーが階層を移動するごとに，プレイヤーのいない階層にランダムに移動

ゴールポータル：一見ゴールに見えるが，新しい階層を作成してそこに移動するだけ

コマンド・オプション：拾う(外部からダウンロードみたいな形で)



開始時の状況：

プレイヤーは初期状態でlsなどの基礎的なコマンドのみを持つ

ディレクトリ状況はログファイルと隠しファイルの.trashがある

また，floor1と言うディレクトリがあり，この中に迷路情報とプレイヤー情報が入っている

.trashには脱出用ファイルがあるが，sudoでないと使えない．trashにはそれ以外にもごみファイルがたくさん入っている



ゲームの状況：

プレイヤーは迷路データをコマンドで書き換えることも可能だが，実行するたびにログが増え，ディスク容量を超えるとゲームオーバーとなる

floor*には壁の情報とポータルの情報その他ごみファイルが入っている．

壁情報は壁の色ごとに存在し，rmでそれぞれ削除することができる

実行中のタスクはプレイヤー・中立ユニット・隠しポータル・make-maze

make-mazeはプレイヤーを迷路に閉じ込めるもので，これをkillすることで脱出可能

make-mazeは隠しポータルの位置を変える．隠しポータルのw権限を削除することで動かすことができなくなりとまった階層で探索することで見つけることができる

迷路中でポータルに接触するとポータルを実行することができ，実行するとfloor2が生成されplayerはそこに移動する（これはシンボリックで動いており，プレイヤーの権限に関係なくsudoで行われている．プレイヤーは迷路生成ファイルと脱出ファイルを入れ替えることで，実行すると脱出可能）

中立ユニットはfloorごとに一体（最初のfloor1にはいない）存在し，こちらが渡す実行ファイルを提示すると向こうが選択しを提示し，プレイヤーはその中から一つ選んで受け取る

trashのごみファイルの中にはsudoのパスワードも存在する．これはfindとgrepを使うことで発見可能



ゲームクリアのルート：

先ほど提示した隠しポータル・シンボリック変更のほかに，sudo rmですべてを破壊する・sudo cdでルートディレクトリに移動，と言う形で脱出ができる



自分が欲しい機能：

今回はlsやcatを使う時にあまりにも表示内容が多ければ実行できないという形にしたい

それを実現するため，gomi.txtsというファイルがあるディレクトリではlsが使えない，特定のテキストファイルではcatで表示ができない(sudoでも)と言う形にしたい

lnコマンドと，タスクを確認する機能，killコマンドの実装

実行中のタスクを管理するシステムの実装もしておきたい（タスクリストを確認して関数を実行する感じがいい気がする）

外部からコマンド・オプションファイルを受け取る処理の実装

コマンドごとにhelpで説明を見れるようにしたい
```

### 今後の実装予定 (To-Do)
システム
- [ ] 各脱出ルートに対応したゲームクリア判定
- [ ] オプション取得処理の実装

コマンド
- [ ] find (ファイル検索)
- [ ] grep (文字列検索)
- [ ] ln (シンボリックリンク作成)
- [ ] ps (プロセス表示)
- [ ] kill (プロセス強制終了)
- [ ] df, du (ディスク容量確認)
- [ ] 再起実行オプションの追加
- [ ] help

オブジェクトとクラス
- [ ] SymbolicLink クラスの実装
- [ ] プロセス管理システムの構築
- [ ] 迷路生成プロセスの実装
- [ ] 隠しポータルの実装
- [ ] ゲートポータルの実装
- [ ] 中立ユニットの実装

その他
- [ ] サンプルコードが移植しやすいように，入力を受け取ったら，関数を実行し，出力結果をまとめて，最後にまとめて返す形にする
- [ ] コマンド実行を一つのみになるようにする（最初の文字列だけ*を不可にする）
- [ ] sudoの脆弱性の解消
- [ ] 表示制限の実装（ls，cat）